<section class="max-w-5xl mx-auto py-10">

  <h1 class="text-3xl font-bold text-purple-700 mb-8">
    <%= t("searches.index.title") %>
  </h1>

  <% if @searches.any? %>

    <div class="space-y-6">

      <% @searches.each do |search| %>
        <% rules = search.rules %>

        <div class="bg-white shadow rounded-xl p-6 flex justify-between items-center hover:shadow-lg transition">

          <div class="space-y-2 text-sm text-gray-700">

            <div class="flex gap-4 flex-wrap">
              <span>
                <strong><%= t("searches.attributes.make") %>:</strong>
                <%= rules["make"].presence || "-" %>
              </span>

              <span>
                <strong><%= t("searches.attributes.model") %>:</strong>
                <%= rules["model"].presence || "-" %>
              </span>
            </div>

            <div class="flex gap-4 flex-wrap">
              <span>
                <strong><%= t("searches.attributes.year") %>:</strong>
                <%= rules["year_from"].presence || t("searches.any") %> –
                <%= rules["year_to"].presence || t("searches.any") %>
              </span>

              <span>
                <strong><%= t("searches.attributes.price") %>:</strong>
                <%= rules["price_from"].presence || t("searches.any") %> –
                <%= rules["price_to"].presence || t("searches.any") %>
              </span>
            </div>

            <div class="text-xs text-gray-500">
              <%= t("searches.requests") %>:
              <span class="font-semibold"><%= search.requests_quantity %></span>
            </div>
          </div>

          <div class="flex gap-3">
            <%= link_to t("searches.actions.run"),
                  cars_path(rules),
                  class: "px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm" %>

            <%= link_to t("searches.actions.delete"),
                  search_path(search),
                  data: { turbo_method: :delete, turbo_confirm: t("searches.confirm_delete") },
                  class: "px-4 py-2 rounded border border-gray-200 hover:bg-gray-200 transition text-sm" %>
          </div>
        </div>
      <% end %>
    </div>

  <% else %>
    <div class="bg-white shadow rounded-xl p-8 text-center text-gray-500">
      <%= t("searches.empty") %>
    </div>
  <% end %>

  <div class="mt-8">
    <%= link_to t("searches.back_home"),
          root_path,
          class: "inline-block bg-purple-600 text-white px-6 py-3 rounded-lg shadow hover:bg-purple-700 transition duration-200" %>
  </div>

</section>
